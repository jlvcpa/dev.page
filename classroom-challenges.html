<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Group Assignment</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      display: flex;
      height: 100vh;
    }

    .panel {
      border-right: 1px solid #ccc;
      padding: 10px;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
    }

    .group-panel {
      width: 28%;
    }

    .student-panel {
      width: 16%;
      border-right: none;
    }

    .header {
      font-weight: bold;
      font-size: 18px;
      margin-bottom: 10px;
      color: #007acc;
    }

    .groupMembers {
      flex: 1;
      background-color: #f9f9f9;
      border: 1px solid #ccc;
      padding: 8px;
      margin-bottom: 10px;
      overflow-y: auto;
    }

    .gameRecords {
      height: 100px;
      background-color: #e8f0fe;
      border: 1px solid #007acc;
      padding: 8px;
      flex-grow: 3;
    }

    .studentList {
      flex: 1;
      background-color: #fff;
      border: 1px solid #ccc;
      padding: 8px;
      overflow-y: auto;
    }

    button {
      margin-top: 10px;
      padding: 6px 12px;
      font-size: 14px;
    }
  </style>
</head>
<body>

  <div class="panel group-panel">
    <div class="header">Group 1</div>
    <div class="groupMembers" id="group1Members">[Group 1 members]</div>
    <div class="gameRecords" id="group1Records">[Game Records]</div> <!-- shall be hidden before the game starts  -->
  </div>

  <div class="panel group-panel">
    <div class="header">Group 2</div>
    <div class="groupMembers" id="group2Members">[Group 2 members]</div>
    <div class="gameRecords" id="group2Records">[Game Records]</div> <!-- shall be hidden before the game starts  -->
  </div>

  <div class="panel group-panel">
    <div class="header">Group 3</div>
    <div class="groupMembers" id="group3Members">[Group 3 members]</div>
    <div class="gameRecords" id="group3Records">[Game Records]</div> <!-- shall be hidden before the game starts  -->
  </div>

  <div class="panel student-panel">
    <div class="header">Student List</div>
    <label for="selectAttendanceRecord">Section:</label>
    <select id="selectAttendanceRecord">
      <option value="">-- Select Attendandance Recoord --</option>
    </select>
    <div class="studentList" id="studentList">[Students will load here]</div>
    <button onclick="createGroups()">Create Groups</button>
  </div>

   <script type="module">
    // ðŸ”¥ Firebase logic goes here
     (async () => {
    // ðŸ”§ Firebase setup
    const { initializeApp } = await import("https://www.gstatic.com/firebasejs/10.0.0/firebase-app.js");
    const { getFirestore, doc, setDoc, getDoc, getDocs, collection } = await import("https://www.gstatic.com/firebasejs/10.0.0/firebase-firestore.js");

    const firebaseConfig = {
      apiKey: "AIzaSyAgOsKAZWwExUzupxSNytsfOo9BOppF0ng",
      authDomain: "jlvcpa-quizzes.firebaseapp.com",
      projectId: "jlvcpa-quizzes",
      storageBucket: "jlvcpa-quizzes.appspot.com",
      messagingSenderId: "629158256557",
      appId: "1:629158256557:web:b3d1a424b32e28cd578b24"
    };

    // Example: Load students from Firestore and populate #studentList
    
    // Then randomly assign them to group1Members, group2Members, group3Members
    function createGroups() {
      // Placeholder logic for random assignment
      // Replace with actual Firebase data
      const students = Array.from(document.querySelectorAll('.studentList div')).map(el => el.textContent);
      const shuffled = students.sort(() => 0.5 - Math.random());
      const groupSize = Math.ceil(students.length / 3);

      document.getElementById('group1Members').innerHTML = shuffled.slice(0, groupSize).join('<br>');
      document.getElementById('group2Members').innerHTML = shuffled.slice(groupSize, groupSize * 2).join('<br>');
      document.getElementById('group3Members').innerHTML = shuffled.slice(groupSize * 2).join('<br>');
    }

    // Example static data for testing
    const sampleStudents = ['Anna', 'Ben', 'Carlos', 'Diana', 'Eli', 'Faith', 'George', 'Hannah', 'Ivan'];
    const studentList = document.getElementById('studentList');
    sampleStudents.forEach(name => {
      const div = document.createElement('div');
      div.textContent = name;
      studentList.appendChild(div);
    });
  </script>

</body>
</html>
